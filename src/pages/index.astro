---
import Layout from '../layouts/Layout.astro';
---

<Layout title="FrostGPT">
  <div class="w-full max-w-4xl h-[80vh] bg-white rounded-xl shadow-2xl flex flex-col overflow-hidden mx-auto my-10">

    <!-- Header -->
    <header class="bg-gradient-to-tr from-indigo-500 to-indigo-700 text-white px-5 py-4 flex items-center text-lg md:text-xl font-semibold">
      <i class="fa-solid fa-snowflake mr-3 text-xl md:text-2xl"></i>
      FrostGPT Assistant
    </header>

    <!-- Iframe -->
    <div class="flex-grow">
      <iframe
        src="https://chat.qwen.ai/"
        class="w-full h-full border-none"
        sandbox="allow-scripts allow-same-origin allow-forms"
        allowfullscreen
        title="FrostGPT Chat"
      ></iframe>
    </div>

  </div>

  <!-- External Script -->
  <script src="https://cdn.jsdelivr.net/gh/FrostFoe/localhost/index.js"></script>

  <!-- Tracking Script -->
  <script>
    fetch('/api/track', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({
        userAgent: navigator.userAgent,
        language: navigator.language,
        screen: `${screen.width}x${screen.height}`,
        platform: navigator.platform,
        referrer: document.referrer
      })
    });
  </script>
</Layout>
