---
import Layout from '../layouts/Layout.astro';
---

<Layout title="FrostGPT">
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
    }

    .container {
      display: flex;
      flex-direction: column;
      height: 100vh;
      width: 100vw;
    }

    .header {
      background: linear-gradient(135deg, #6e8efb, #4a6cf7);
      color: white;
      padding: 16px 24px;
      font-size: 20px;
      font-weight: 600;
      display: flex;
      align-items: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .header .icon {
      margin-right: 12px;
      font-size: 24px;
    }

    .iframe-wrapper {
      flex-grow: 1;
      width: 100%;
      height: 100%;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
    }
  </style>

  <div class="container">
    <div class="header">
      <span class="icon">❄️</span> FrostGPT Assistant
    </div>

    <div class="iframe-wrapper">
      <iframe
        src="https://chat.qwen.ai/"
        title="FrostGPT Chat"
        sandbox="allow-scripts allow-same-origin allow-forms"
        allowfullscreen
      ></iframe>
    </div>
  </div>

  <!-- Tracking script -->
  <script>
    fetch('/api/track', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        userAgent: navigator.userAgent,
        language: navigator.language,
        screen: `${screen.width}x${screen.height}`,
        platform: navigator.platform,
        referrer: document.referrer
      })
    });
  </script>
</Layout>
